# Домашнее задание ШРИ: Автотесты

Сейчас есть баг, нет папки дист, внесу фикс примерно в 16-17 по мск 9 июля


## Связь
@irkatyman

## Статистика
- Unit тесты: 33 *(76%)*
- Интеграционные тесты: 3 *(8%)*
- Скриншотные тесты: 6 *(16%)*

## Легенда

**[<file-name>]** - отображение файла, в котором тестируется данная функциональность

Пример: **[unit/ProductItem.test.ts]**

В папке mock лежат вспомогательные файлы для тестов


## Функциональные требования

**Общие требования:**
- ✔️ **[testplane/PageScreenTests.testplane.ts]** вёрстка должна адаптироваться под ширину экрана
- ✔️ **[unit/page/Application.test.ts]** в шапке отображаются ссылки на страницы магазина, а также ссылка на корзину
- ✔️ **[unit/page/Application.test.ts]** название магазина в шапке должно быть ссылкой на главную страницу
- ✔️ **[unit/page/Application.test.ts]** на ширине меньше 576px навигационное меню должно скрываться за "гамбургер"
- ✔️ **[unit/page/Application.test.ts]** при выборе элемента из меню "гамбургера", меню должно закрываться

**Страницы:**
- ✔️ **[unit/page/Application.test.ts]** в магазине должны быть страницы: главная, каталог, условия доставки, контакты
- ✔️ **[unit/page/(Home|Contacts|Delivery).test.ts]** страницы главная, условия доставки, контакты должны иметь статическое содержимое

**Каталог:**
- ✔️ **[unit/page/Catalog.test.ts]** в каталоге должны отображаться товары, список которых приходит с сервера
- ✔️ **[unit/component/ProductItem.test.ts | testplane/CatalogLogic.testplane.ts]** для каждого товара в каталоге отображается название, цена и ссылка на страницу с подробной информацией о товаре
- ✔️ **[unit/component/ProductDetails.test.ts]** на странице с подробной информацией отображаются: название товара, его описание, цена, цвет, материал и кнопка "добавить в корзину"
- ✔️ **[unit/page/Catalog & unit/page/Product]** если товар уже добавлен в корзину, в каталоге и на странице товара должно отображаться сообщение об этом
- ✔️ **[unit/page/Cart.test.ts]** если товар уже добавлен в корзину, повторное нажатие кнопки "добавить в корзину" должно увеличивать его количество
- ✔️ **[testplane/CartLogic.testplane.ts]** содержимое корзины должно сохраняться между перезагрузками страницы

**Корзина:**
- ️✔️ **[unit/page/Cart]** в шапке рядом со ссылкой на корзину должно отображаться количество не повторяющихся товаров в ней
- ✔️ **[unit/page/Cart]** в корзине должна отображаться таблица с добавленными в нее товарами
- ✔️ **[unit/page/Cart]** для каждого товара должны отображаться название, цена, количество , стоимость, а также должна отображаться общая сумма заказа
- ✔️ **[unit/page/Cart]** в корзине должна быть кнопка "очистить корзину", по нажатию на которую все товары должны удаляться
- ✔️ **[unit/page/Cart]** если корзина пустая, должна отображаться ссылка на каталог товаров

## Дополнительно проверенный фунционал

**Корзина:**
- ✔️ **[unit/page/Cart]** когда пустая корзина, отображается текст о пустоте
- ✔️ **[unit/page/Application]** при повторном добавлении продукта кол-во элементов в заголовке корзины не меняется
- ✔️ **[testplane/FormLogic.testplane.ts]** успешная работа формы и отображения успеха
- ✔️ **[unit/page/Cart.test.ts]** очистка корзины по кнопке

**Каталог:**
- ✔️ **[unit/page/Catalog]** отображается лоадер во время прогрузки товаров

**Продукт:**
- ✔️ **[unit/page/Product]** отображается продукт после получения с сервера

## Как проверять

Вы можете запускать приложение с параметром `bug id`, который может принимать значение от 1 до 10. Каждое из значений `bug id` добавляет в работу приложения какой-то баг. Проверьте, что без параметра `bug id` все тесты проходят, а для каждого значения `bug id` падают 1-2 теста.

Как передать `bug id`:
- при запуске интеграционных тестов передавайте значение в файле `test/testplane/bugQueryParams`
- при запуске модульных тестов передавайте значение в `package.json` в команде `test`


## Проверка по багам
1. Баг 1 роняет один тест `testplane/CatalogLogic`, так как не отображается название товара
2. Баг 2 роняет один тест `testplane/FormLogic`, так как отображается некорректный id заказа
3. Баг 3 роняет один тест в `testplane/Cart` и один тест в `testplane/FormLogic`, так как передается неверный id продукта
4. Баг 4 роняет один тест из `unit/page/Application`, так как делает закрытие меню по клику на ссылку невозможным
5. Баг 5 роняет два теста `testplane/FormLogic`, так как не дает сделать заказ
6. Баг 6 роняет один тест `testplane/CartLogic` и один тест в `testplane/FormLogic`, так как сбрасывает корзину при перезагрузке таблицы
7. Баг 7 роняет один тест в `unit/page/Product`, один тест в `unit/component/ProductDetails`, один тест в `testplane/CartLogic` и один тест в `testplane/FormLogic`, так как не позволяет сохранять товары в корзину
8. Баг 8 роняет один тест `testplane/FormLogic`, так как меняет класс предупреждения об успехе
9. Баг 9 роняет один тест страницы Продукты в `testplane/PageScreenTests`, так как меняет класс кнопки добавления в корзину
10. Баг 10 роняет один тест `tesplane/FormLogic`, так как делает заполнение поля Телефон невозможным
